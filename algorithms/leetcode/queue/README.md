# Queue

## Monotonic queue

### 239 滑动窗后的最大值

需要一个什么样的数据结构？单调队列

- 双端队列
    - 移除最左边的元素
    - 移除最右边的元素
    - 在最右边插入元素
- 单调性
    - 对队首到队尾单调递减

16字总结：**及时去掉无用数据，保证双端队列有序**

- 当数字 >= 队尾，弹出队尾（**和单调栈一样**）
    - 队尾以及之前的**窗口内**的元素：比当前元素离开窗口的时间更早，当前值更大，所以永远不会作为窗口的最大值
- 弹出队首**不在窗口内**的元素

### 练习

1. 862 和至少为k的最短子数组
    - 首先题眼切入：**子数组** + **和** -> 前缀和技巧，方便快速得到子数组的和
    - 前缀和数组记为s
    - 有了部分和，首先可以暴力算法
        - 枚举i，j（i< j）， 遍历 s[j] - s[i] >= k 的数组长度，取最小值
    - 单调队列优化：
        - 如果我们遍历到了当前的i，之前有一个j，满足了s[i] - s[j] >= k了，那么对于s[i+1]，s[i+2]等后面的和j配对的{i, j}
            - 如果子数组和大于等于k，长度更长了，不满足最短答案要求，所以j无用
            - 如果子数组和小于k，那根本不满足答案，所以j无用
            - 综上，如果找到了一个s[i] - s[j] >= k了，记录答案后，j就可以移除了
        - 如果我们遍历到当前的i，之前有一个j，其关系是：s[i] <= s[j]，那么对于后面的数字x，如果x和s[j]能组成满足题目要求的数组，即x-s[j] >= k，那么一定也有 x - s[i] >= k
            - 那么 j 也没用了，可以移除了，因为和i组成的肯定更短