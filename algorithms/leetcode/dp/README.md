# DP

新手的三步

- 思考回溯怎么写
  - 入参和返回值
  - 递归到哪里
  - 递归边界和入口
- 改成记忆化搜索
- 1:1 翻译成递推式

状态定义？状态转移方程？该如何思考

利用回溯的启发式思路：**选或不选/选哪个**，来帮助思考状态定义和状态转移方程

## 选或不选

对应的常见dp题型是：0-1背包，完全背包问题

0-1 背包：有n个物品，第i个物品体积w[i]，价值v[i]，每个物品至多选一个，背包容量为capacity，求不超过capacity的最大价值和

- 回溯三问
  - 当前操作？枚举第i个物品选或不选：不选，剩余容量不变；选，剩余容量减少w[i]
  - 子问题？在剩余容量为c时，从前i个物品中得到的最大价值和
  - 下一个子问题？分类讨论
    - 不选：在剩余容量为c时，从前i—1个物品中得到的最大价值和
    - 选：在剩余容量为C一w[i]时，从前**i-1**个物品中得到的最大价值和
  - dfs(i, c) = max( dfs(i-1, c), dfs(i-1, c-w[i]) + v[i] )
- 常见变形
  - 至多装capacity，求方案数/最大价值和
  - 恰好装capacity，求方案数/最大/最小价值和
  - 至少装capacity，求方案数/最少价值和
- 494题：dfs(i, c) = dfs(i-1, c) + dfs(i-1, c-w[i])
  - 递推
    - dp[i]\[c\] = dp[i-1]\[c\] + dp[i-1][c-w[i]]
    - dp[i+1]\[c\] = dp[i]\[c\] + dp[i][c-w[i]]

完全背包：有n种物品，第i个物品体积w[i]，价值v[i]，每个物品无限次重复选，背包容量为capacity，求不超过capacity的最大价值和

- 回溯三问
  - 当前操作？枚举第i种物品选或不选：不选，剩余容量不变；选，剩余容量减少w[i]
  - 子问题？在剩余容量为c时，从前i种物品中得到的最大价值和
  - 下一个子问题？分类讨论
    - 不选：在剩余容量为c时，从前i—1种物品中得到的最大价值和
    - 选：在剩余容量为C一w[i]时，从前**i**种物品中得到的最大价值和
  - dfs(i, c) = max( dfs(i-1, c), dfs(i-1, c-w[i]) + v[i] )
- 常见变形
  - 至多装capacity，求方案数/最大价值和
  - 恰好装capacity，求方案数/最大/最小价值和
  - 至少装capacity，求方案数/最少价值和
- 322.题：dfs(i, c) = min(dfs(i-1, c), dfs(i-1, c-w[i])+1)
  - 递推
    - dp[i]\[c\] = min(dp[i-1]\[c\], dp[i-1][c-w[i]]+1)
    - dp[i+1]\[c\] = min(dp[i]\[c\], dp[i][c-w[i]]+1)

## 选哪个

- 像322题，还可以用：选哪个的视角来进行dp，留作练习

## 边界条件总结

- [视频评论区](https://www.bilibili.com/video/BV16Y411v7Y6)
