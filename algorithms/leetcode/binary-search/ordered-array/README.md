# Ordered Array

## 2300题 一个知识点

对于正整数

$$
xy\ge\text{success}等价于 y\ge\left\lceil\frac{success}{x}\right\rceil
$$

$$
\lceil \frac{a}{b} \rceil = \left\lfloor \frac{a+b-1}{b} \right\rfloor = \left\lfloor \frac{a-1}{b} \right\rfloor + 1, \text{ 所以上式也等价于 } y > \left\lfloor \frac{success-1}{x} \right\rfloor
$$


## 275题 h指数

**单调性**：二分答案的前提

- 如果**至少有x篇论文引用次数>=x** -> 那么**至少有x-1篇论文引用次数>=x-1**
- 如果**没有y篇论文引用次数>=y** -> 那么也就**没有y+1篇论文引用次数>=y+1**


## 不会做 看了讲解

### 2861 最大合金数

为什么可以二分答案？

k个小问题：计算每台机器最多可以制造多少合金

- 能不能直接算？
    - 创建合金需要 composition[i][j] 份 j 类型金属
    - 拥有 stock[i] 份 i 类型金属
    - 购入一份 i 类型金属需要花费 cost[i] 的金钱
    - 预算不超过 budget 金钱

约束太多，并不好算，但提供了暴力思路：制造多少合金？一块一块枚举

- 制造一块多少钱
- 制造两块多少钱
- 制造x块多少钱

但暴力显然超时，题目量级到10^8，枚举不过来，但又提供了思路，**制造的合金越多**显然要的钱越多 -> **单调性** -> 二分查找

- 猜测一个数 num 份 -> 算钱 -> 够则扩大，不够则缩小 -> 二分
    - 最少：0份
    - 最多：多少呢？显然每个金属需要1块，每块1块钱，这个时候能造的最多 -> 上界

该题提醒了一个二分细节

- 不知道是不是答案的范围，那么我们就把他包含在范围内就行了，比如不知道上界能不能达到，那么我们right就等于上界+1，包含在里面

### 2439 

**最小化最大值/最大化最小值** -> 二分答案

- 最大化最小值：染红的最后元素（红边界）
- 最小化最大值：染蓝的最前元素（蓝边界）
- 具体做法
    - 猜一个最大值，模拟题目过程

- 像2861，对于一个给定合金数num，只有两种情况：能合成和不能合成 ->红色和蓝色
    - 我们要找的是能合成的最大值，显然越少的值越能合成（**红色**），也就是说，在一系列的小的合金数值中找最大的合金数值（**右边界**）
        - 二分check：true的话改left，false改right
    - 可以发现，是从一系列小值中，找最大的，也就是**找蓝色的边界**

回到2439题 最小化数组中的最大值

- 其实题目那个操作就是就是在向左传值，一次操作让右边的数给左边匀了1
- 那么我们就从最右边开始，如果他比mid大，就让他匀差值给左边，通过遍历，让所有值都成为mid
- 这个时候，每个值多于mid的部分都会向左传递，一直传递到nums[0]，如果nums[0] + extra <= mid，那么OK，mid可以作为答案 -> true
    - 那么right = mid，我们要找更小的
- 反之，nums[0] + extra > mid，nums[1...n-1] = mid，说明mid不OK，mid小的太多了，得大一点 -> false
    - 那么left = mid，要往大去找
- 可以发现，这个是从一系列mid值中，找最小的，也就是**找红色的边界**

### 2517 最大甜蜜度

有了前面两个的铺垫了，这一题，甜蜜度的定义是最小的价格差绝对值，要找最大甜蜜度 -> **最大化最小值**

- 甜蜜度越小，越容易选k类；甜蜜度越大，越不容易选
    - **单调性**出现了 -> 能二分
- 标准流程：猜一下，模拟一遍，去check，然后看true false更新left right

例子[1,2,5,8,13,21] k = 3

- 猜测ans = 3，从1开始1+3=4选5，5+3=8选8 -> [1,5,8] 甜蜜度是3，满足
- 猜测ans = 7，从1开始，1+7选8，8+7选15，但15没有，选21 -> [1,8,21] 甜蜜度是7满足
    - 7 ok -> <= 7 也是ok的
- 猜测ans = 9，从1开始，1+9=10，选13，13+9=22，没得选，不ok
    - 9 fail -> >=9 也 fail



